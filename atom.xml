<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>è½ç§‹</title>
  
  <subtitle>åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘ã€‚</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://www.liyb.vip/"/>
  <updated>2019-09-15T07:38:07.063Z</updated>
  <id>https://www.liyb.vip/</id>
  
  <author>
    <name>è½ç§‹</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>MacOSå¼€å‘-NSCollectionViewä½¿ç”¨</title>
    <link href="https://www.liyb.vip/2019/09/15/MacOS%E5%BC%80%E5%8F%91-NSCollectionView%E4%BD%BF%E7%94%A8/"/>
    <id>https://www.liyb.vip/2019/09/15/MacOSå¼€å‘-NSCollectionViewä½¿ç”¨/</id>
    <published>2019-09-15T06:09:14.159Z</published>
    <updated>2019-09-15T07:38:07.063Z</updated>
    
    <content type="html"><![CDATA[<p>åœ¨iOSå¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç”¨åˆ°UITableViewå’ŒUICollectionViewä¸¤ç§æ§ä»¶è¿›è¡Œå¼€å‘ï¼Œåœ¨MacOSä¸­ä¹Ÿæœ‰ç›¸å¯¹åº”çš„NSTableViewå’ŒNSCollectionViewï¼Œä»Šå¤©åœ¨è¿™é‡Œè®°å½•ä¸‹NSCollectionViewçš„ä½¿ç”¨ã€‚</p><h1 id="åˆ›å»ºNSCollectionView"><a href="#åˆ›å»ºNSCollectionView" class="headerlink" title="åˆ›å»ºNSCollectionView"></a>åˆ›å»ºNSCollectionView</h1><h2 id="xibæ‹–æ‹½"><a href="#xibæ‹–æ‹½" class="headerlink" title="xibæ‹–æ‹½"></a>xibæ‹–æ‹½</h2><p>åˆ›å»ºé¡¹ç›®å·¥ç¨‹æ‰“å¼€Main.storyboardæˆ–Main.xib</p><p><img src="/resource/NSCollectionView/collectionView.png" alt></p><p><img src="/resource/NSCollectionView/layout.png" alt></p><p><img src="/resource/NSCollectionView/createCollectionView.png" alt></p><p><img src="/resource/NSCollectionView/item.png" alt></p><p><img src="/resource/NSCollectionView/label.png" alt></p><p>ç„¶åç¼–å†™ä»¥ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    self.collectionView.dataSource = self;</span><br><span class="line">    [self.collectionView registerClass:[CollectionViewItem class] forItemWithIdentifier:@&quot;item&quot;];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSInteger)collectionView:(NSCollectionView *)collectionView numberOfItemsInSection:(NSInteger)section &#123;</span><br><span class="line">    return 30;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (NSCollectionViewItem *)collectionView:(NSCollectionView *)collectionView itemForRepresentedObjectAtIndexPath:(NSIndexPath *)indexPath &#123;</span><br><span class="line">    CollectionViewItem *item = [collectionView makeItemWithIdentifier:@&quot;item&quot; forIndexPath:indexPath];</span><br><span class="line">    item.textLabel.stringValue = [NSString stringWithFormat:@&quot;ç¬¬%ziä¸ª&quot;, indexPath.item];</span><br><span class="line">    return item;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿è¡Œç¨‹åºæŸ¥çœ‹</p><p><img src="/resource/NSCollectionView/result.png" alt></p><h2 id="ä»£ç å®ç°"><a href="#ä»£ç å®ç°" class="headerlink" title="ä»£ç å®ç°"></a>ä»£ç å®ç°</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// æ›¿æ¢viewDidLoad</span><br><span class="line">- (void)viewDidLoad &#123;</span><br><span class="line">    [super viewDidLoad];</span><br><span class="line">    NSCollectionView *collectionView = [[NSCollectionView alloc] initWithFrame:self.view.bounds];</span><br><span class="line">    NSCollectionViewFlowLayout *layout = [[NSCollectionViewFlowLayout alloc] init];</span><br><span class="line">    layout.minimumLineSpacing = 0;</span><br><span class="line">    layout.minimumInteritemSpacing = 0;</span><br><span class="line">    layout.itemSize = CGSizeMake(60, 60);</span><br><span class="line">    collectionView.collectionViewLayout = layout;</span><br><span class="line">    collectionView.dataSource = self;</span><br><span class="line">    [collectionView registerClass:[CollectionViewItem class] forItemWithIdentifier:@&quot;item&quot;];</span><br><span class="line">    </span><br><span class="line">    NSClipView *clip = [[NSClipView alloc] initWithFrame:self.view.bounds];</span><br><span class="line">    clip.documentView = collectionView;</span><br><span class="line">    </span><br><span class="line">    NSScrollView *scrollView = [[NSScrollView alloc] initWithFrame:self.view.bounds];</span><br><span class="line">    scrollView.contentView = clip;</span><br><span class="line">    </span><br><span class="line">    [self.view addSubview:scrollView];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="NSCollectionViewä¸UICollectionViewçš„åŒºåˆ«"><a href="#NSCollectionViewä¸UICollectionViewçš„åŒºåˆ«" class="headerlink" title="NSCollectionViewä¸UICollectionViewçš„åŒºåˆ«"></a>NSCollectionViewä¸UICollectionViewçš„åŒºåˆ«</h1><p>ç›¸åŒç‚¹:</p><ul><li>éƒ½æ˜¯ä½¿ç”¨collectionViewLayoutå¯¹cellçš„å¸ƒå±€</li><li>åŸºæœ¬å±æ€§å¤§éƒ½ç›¸åŒï¼Œå¶å°”ä¼šæœ‰äº›å±æ€§åä¸ä¸€è‡´çš„é—®é¢˜</li></ul><p>ä¸åŒç‚¹:</p><ul><li>NSCollectionViewç»§æ‰¿NSViewï¼Œä½¿ç”¨æ—¶éœ€è¦ä¸NSScrollViewå’ŒNSClipVIewè¿›è¡Œç»„åˆä½¿ç”¨</li><li>NSCollectionViewç¼ºå°‘ä¸€äº›ç»„åˆæ–¹æ³•ï¼Œå¦‚æœæœªæ‰¾åˆ°ä¸UICollectionViewç›¸åŒçš„æ–¹æ³•ï¼Œå¯ä»¥å°è¯•å•ç‹¬ç»™å‚æ•°èµ‹å€¼æ¥å®ç°ã€‚</li><li>NSCollectionViewItemç»§æ‰¿NSViewController</li></ul><h1 id="NSCollectionViewä½¿ç”¨æ—¶çš„ä¸€äº›å‘"><a href="#NSCollectionViewä½¿ç”¨æ—¶çš„ä¸€äº›å‘" class="headerlink" title="NSCollectionViewä½¿ç”¨æ—¶çš„ä¸€äº›å‘"></a>NSCollectionViewä½¿ç”¨æ—¶çš„ä¸€äº›å‘</h1><ul><li>åˆ›å»ºè‡ªå®šä¹‰itemæ—¶éœ€è¦å‹¾é€‰<code>xib</code>é€‰é¡¹ï¼Œç„¶ååœ¨æ³¨å†Œitemè¿›å¤ç”¨æ± æ—¶ï¼Œå¦‚æœæŒ‰UICollectionViewä½¿ç”¨æ—¶åº”è¯¥ä½¿ç”¨<code>nib</code>çš„æ–¹å¼æ³¨å†Œitemï¼Œè¿è¡Œæ—¶ç¨‹åºå´©äº†ï¼Œä½ ä¼šå‘ç°ä»å¤ç”¨æ± ä¸­è·å–çš„itemæ˜¯nilã€‚</li><li>åœ¨ä»£ç†æ–¹æ³•ä¸­æœªèƒ½æ‰¾åˆ°ç›¸å…³é€‰ä¸­çš„æ–¹æ³•ï¼Œåªæœ‰ä¸€ä¸ª<code>- (void)collectionView:(NSCollectionView *)collectionView didSelectItemsAtIndexPaths:(NSSet&lt;NSIndexPath *&gt; *)indexPaths</code>å¾ˆåƒçš„æ–¹æ³•ï¼Œå®ç°ä¹‹åï¼Œå‘ç°ç‚¹å‡»itemå¹¶ä¸è°ƒç”¨æ­¤æ–¹æ³•ã€‚æˆ‘æƒ³åˆ°çš„å®ç°æ–¹å¼æ˜¯åœ¨itemä¸­ç›‘å¬é¼ æ ‡ç‚¹å‡»äº‹ä»¶ã€‚</li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;åœ¨iOSå¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸ä¼šç”¨åˆ°UITableViewå’ŒUICollectionViewä¸¤ç§æ§ä»¶è¿›è¡Œå¼€å‘ï¼Œåœ¨MacOSä¸­ä¹Ÿæœ‰ç›¸å¯¹åº”çš„NSTableViewå’ŒNSCollectionViewï¼Œä»Šå¤©åœ¨è¿™é‡Œè®°å½•ä¸‹NSCollectionViewçš„ä½¿ç”¨ã€‚&lt;/p&gt;
&lt;h1 id=&quot;åˆ›å»º
      
    
    </summary>
    
      <category term="MacOS" scheme="https://www.liyb.vip/categories/MacOS/"/>
    
    
      <category term="MacOS" scheme="https://www.liyb.vip/tags/MacOS/"/>
    
      <category term="NSCollectionView" scheme="https://www.liyb.vip/tags/NSCollectionView/"/>
    
  </entry>
  
  <entry>
    <title>MacOSå¼€å‘-çŠ¶æ€æ APPå’ŒPopoverå¼¹å‡ºçª—å£</title>
    <link href="https://www.liyb.vip/2019/09/14/MacOS%E5%BC%80%E5%8F%91-%E7%8A%B6%E6%80%81%E6%A0%8FAPP%E5%92%8CPopover%E5%BC%B9%E5%87%BA%E7%AA%97%E5%8F%A3/"/>
    <id>https://www.liyb.vip/2019/09/14/MacOSå¼€å‘-çŠ¶æ€æ APPå’ŒPopoverå¼¹å‡ºçª—å£/</id>
    <published>2019-09-14T08:58:56.156Z</published>
    <updated>2019-09-15T06:40:34.774Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å¼€å‘ç›®çš„"><a href="#å¼€å‘ç›®çš„" class="headerlink" title="å¼€å‘ç›®çš„"></a>å¼€å‘ç›®çš„</h1><p>æœ¬äººå†ä½¿ç”¨<a href="https://paper.meiyuan.in/" target="_blank" rel="noopener">pap.er</a>æ—¶å‘ç°äº†ä¸€äº›bug,å¶å°”è¿˜ä¼šè«åå´©æºƒï¼Œæ‰€ä»¥æƒ³è¦è‡ªå·±å¼€å‘ä¸€æ¬¾ç±»ä¼¼çš„ä¸€æ¬¾å£çº¸APPã€‚</p><p>ä»¥ä¸‹æ˜¯æˆ‘å¼€å‘è¿™æ¬¾APPçš„è®°å½•ã€‚</p><h1 id="åˆ›å»ºå·¥ç¨‹"><a href="#åˆ›å»ºå·¥ç¨‹" class="headerlink" title="åˆ›å»ºå·¥ç¨‹"></a>åˆ›å»ºå·¥ç¨‹</h1><p><img src="/resource/StatusBar/åˆ›å»ºMacOSå·¥ç¨‹.png" alt="åˆ›å»ºMacOSå·¥ç¨‹"></p><p>æ‰“å¼€MainMenu.xibæ–‡ä»¶ï¼Œå› ä¸ºæˆ‘ä»¬æ˜¯çŠ¶æ€æ APPï¼Œæ‰€ä»¥éœ€è¦åˆ é™¤é»˜è®¤çš„Windowå’ŒMain Menu</p><p><img src="/resource/StatusBar/MainMenu.png" alt="MainMenu"></p><h2 id="è®¾ç½®çŠ¶æ€æ "><a href="#è®¾ç½®çŠ¶æ€æ " class="headerlink" title="è®¾ç½®çŠ¶æ€æ "></a>è®¾ç½®çŠ¶æ€æ </h2><p>åœ¨AppDelegateæ–‡ä»¶ä¸­ç¼–å†™ä»¥ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- (void)applicationDidFinishLaunching:(NSNotification *)aNotification &#123;</span><br><span class="line">    NSStatusItem *statusItem = [[NSStatusBar systemStatusBar] statusItemWithLength: 20];</span><br><span class="line">    NSImage *icon = [NSImage imageNamed:@&quot;statusBar&quot;];</span><br><span class="line">    icon.template = YES;</span><br><span class="line">    statusItem.image = icon;</span><br><span class="line">    statusItem.button.target = self;</span><br><span class="line">    statusItem.button.action = @selector(toggleMenu:);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)toggleMenu:(NSStatusBarButton *)button &#123;</span><br><span class="line">    NSLog(@&quot;ç‚¹å‡»èœå•&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/resource/StatusBar/æ˜¾ç¤ºå›¾æ ‡.png" alt></p><p>æ­¤æ—¶æˆ‘ä»¬å·²ç»èƒ½åœ¨çŠ¶æ€æ çœ‹åˆ°æˆ‘ä»¬APPæ˜¾ç¤ºäº†ï¼Œä½†æ˜¯ä½ ä¼šå‘ç°Dockæ é‡Œé¢ä¹Ÿæœ‰æˆ‘ä»¬çš„APPçš„Iconï¼Œè¿™æ˜¯æˆ‘ä»¬éœ€è¦åœ¨info.plistæ–‡ä»¶ä¸­è®¾ç½®<code>Application is agent (UIElement)</code>ä¸º<code>YES</code>ï¼Œå†æ¬¡è¿è¡ŒAPPå³å¯ã€‚</p><h1 id="Popverå¼¹å‡ºçª—å£"><a href="#Popverå¼¹å‡ºçª—å£" class="headerlink" title="Popverå¼¹å‡ºçª—å£"></a>Popverå¼¹å‡ºçª—å£</h1><p>å†æ¬¡æ‰“å¼€AppDelegateæ–‡ä»¶ï¼Œç¼–å†™ä»¥ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">// æ·»åŠ popoverå±æ€§</span><br><span class="line">- (NSPopover *)popover &#123;</span><br><span class="line">    if (!_popover) &#123;</span><br><span class="line">        _popover = [[NSPopover alloc] init];</span><br><span class="line">        _popover.appearance = [[NSAppearance alloc] initWithAppearanceNamed:NSAppearanceNameVibrantDark bundle:nil];</span><br><span class="line">      // åˆ›å»ºä¸€ä¸ªç»§æ‰¿NSViewControllerçš„PopoverControllerä½œä¸ºå¼¹å‡ºæ§åˆ¶å™¨</span><br><span class="line">        _popover.contentViewController = [[PopoverController alloc] init];</span><br><span class="line">        _popover.behavior = NSPopoverBehaviorApplicationDefined;</span><br><span class="line">    &#125;</span><br><span class="line">    return _popover;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// ä¿®æ”¹toggleMenu:æ–¹æ³•</span><br><span class="line">- (void)toggleMenu:(NSStatusBarButton *)button &#123;</span><br><span class="line">    if ([self.popover isShown]) &#123;</span><br><span class="line">        [self.popover performClose:button];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        [self.popover showRelativeToRect:button.bounds ofView:button preferredEdge:NSRectEdgeMaxY];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/resource/StatusBar/popover.png" alt="popover"></p><p>æ­¤æ—¶ä½ ä¼šå‘ç°ç‚¹å‡»å¼¹çª—å¤–ä¸ä¼šè‡ªåŠ¨æ”¶èµ·ï¼Œè¿™ç§æ•ˆæœä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœï¼ŒæŸ¥çœ‹<code>NSpopover</code>çš„APIæ–‡æ¡£ï¼Œå…¶æœ‰ä¸€ä¸ª<code>behavior</code>å±æ€§ï¼Œå€¼ä¸º<code>NSPopoverBehaviorTransient</code>å¥½åƒå¯ä»¥å®ç°è‡ªåŠ¨æ”¶èµ·åŠŸèƒ½ã€‚è¿è¡Œç¨‹åºå‘ç°ç¡®å®å¯ä»¥å®ç°ç‚¹å‡»å¼¹çª—å¤–é¢è‡ªåŠ¨æ”¶èµ·åŠŸèƒ½ï¼Œä½†æ˜¯å‰ææ˜¯å¼¹çª—å†…æœ‰ä¸€æ¬¡ç‚¹å‡»æ—¶é—´æ‰èƒ½åšåˆ°æ­¤æ•ˆæœã€‚</p><p>æ­¤æ—¶æˆ‘çš„å†…å¿ƒæ˜¯å´©æºƒçš„ğŸ˜¤ï¼Œè°·æ­Œã€ç™¾åº¦å…¶ä¸Šï¼Œç»ˆäºè®©æˆ‘æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆï¼šæ·»åŠ ç³»ç»Ÿäº‹ä»¶ç›‘è§†å™¨æ¥å®ç°å¯¹äº¤äº’äº‹ä»¶çš„ç›‘æµ‹ï¼Œä»è€Œåšåˆ°å¼¹çª—æ˜¾ç¤ºåï¼Œæ— è®ºä»€ä¹ˆæ—¶å€™ç‚¹å‡»å¼¹çª—å¤–é¢éƒ½èƒ½è‡ªåŠ¨æ”¶èµ·ã€‚</p><p>æ–°å»º<code>EventMonitor</code>ï¼Œç¼–å†™ä»¥ä¸‹ä»£ç </p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// EventMonitor.h</span><br><span class="line">typedef void(^EventMonitorHandler) (NSEvent * _Nullable event);</span><br><span class="line">@interface EventMonitor : NSObject</span><br><span class="line">- (instancetype)initWithMask:(NSEventMask)mask handler:(EventMonitorHandler)handler;</span><br><span class="line">- (void)start;</span><br><span class="line">- (void)stop;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">// EventMonitor.m</span><br><span class="line">@interface EventMonitor ()</span><br><span class="line">@property (nonatomic, assign) NSEventMask mask;</span><br><span class="line">@property (nonatomic, copy) EventMonitorHandler handler;</span><br><span class="line">@property (nonatomic, strong) id monitor;</span><br><span class="line">@end</span><br><span class="line"></span><br><span class="line">@implementation EventMonitor</span><br><span class="line"></span><br><span class="line">- (instancetype)initWithMask:(NSEventMask)mask handler:(EventMonitorHandler)handler &#123;</span><br><span class="line">    if (self = [super init]) &#123;</span><br><span class="line">        self.mask = mask;</span><br><span class="line">        self.handler = handler;</span><br><span class="line">    &#125;</span><br><span class="line">    return self;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)start &#123;</span><br><span class="line">    self.monitor = [NSEvent addGlobalMonitorForEventsMatchingMask:self.mask handler:self.handler];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (void)stop &#123;</span><br><span class="line">    if (self.monitor != nil) &#123;</span><br><span class="line">        [NSEvent removeMonitor:self.monitor];</span><br><span class="line">        self.monitor = nil;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">@end</span><br></pre></td></tr></table></figure><p>æ‰“å¼€AppDelegateï¼Œä¿®æ”¹Popoverå¼¹å‡ºäº‹ä»¶</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// applicationDidFinishLaunching:æ–¹æ³•æ·»åŠ </span><br><span class="line">__weak typeof(self) weakSelf = self;</span><br><span class="line">self.monitor = [[EventMonitor alloc] initWithMask:NSEventMaskLeftMouseDown | NSEventMaskRightMouseDown handler:^(NSEvent * _Nullable event) &#123;</span><br><span class="line">    if (weakSelf.popover.shown) &#123;</span><br><span class="line">        [weakSelf.popover performClose:event];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// ä¿®æ”¹toggleMenu:æ–¹æ³•å¦‚ä¸‹</span><br><span class="line">- (void)toggleMenu:(NSStatusBarButton *)button &#123;</span><br><span class="line">    if ([self.popover isShown]) &#123;</span><br><span class="line">        [self.popover performClose:button];</span><br><span class="line">        [self.monitor stop];</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        [self.popover showRelativeToRect:button.bounds ofView:button preferredEdge:NSRectEdgeMaxY];</span><br><span class="line">        [self.monitor start];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†æ¬¡è¿è¡Œç¨‹åºï¼Œå·²ç»å¯ä»¥å®ç°æˆ‘ä»¬æƒ³è¦çš„åŠŸèƒ½äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å¼€å‘ç›®çš„&quot;&gt;&lt;a href=&quot;#å¼€å‘ç›®çš„&quot; class=&quot;headerlink&quot; title=&quot;å¼€å‘ç›®çš„&quot;&gt;&lt;/a&gt;å¼€å‘ç›®çš„&lt;/h1&gt;&lt;p&gt;æœ¬äººå†ä½¿ç”¨&lt;a href=&quot;https://paper.meiyuan.in/&quot; target=&quot;_blank&quot; rel=&quot;
      
    
    </summary>
    
      <category term="MacOS" scheme="https://www.liyb.vip/categories/MacOS/"/>
    
    
      <category term="MacOS" scheme="https://www.liyb.vip/tags/MacOS/"/>
    
      <category term="Popover" scheme="https://www.liyb.vip/tags/Popover/"/>
    
  </entry>
  
  <entry>
    <title>MacOSå¼€å‘-Sugarpaperä¸€æ¬¾å°å·§çš„å£çº¸åº”ç”¨</title>
    <link href="https://www.liyb.vip/2019/09/14/MacOS%E5%BC%80%E5%8F%91-Sugarpaper%E4%B8%80%E6%AC%BE%E5%B0%8F%E5%B7%A7%E7%9A%84%E5%A3%81%E7%BA%B8%E5%BA%94%E7%94%A8/"/>
    <id>https://www.liyb.vip/2019/09/14/MacOSå¼€å‘-Sugarpaperä¸€æ¬¾å°å·§çš„å£çº¸åº”ç”¨/</id>
    <published>2019-09-14T08:35:36.193Z</published>
    <updated>2019-12-28T14:09:00.424Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Sugarpaperä»‹ç»"><a href="#Sugarpaperä»‹ç»" class="headerlink" title="Sugarpaperä»‹ç»"></a>Sugarpaperä»‹ç»</h1><p>Sugarpaperæ˜¯ä¸€æ¬¾ç»¼åˆ<a href="https://unsplash.com/" target="_blank" rel="noopener">unsplash</a>ã€<a href="https://www.pexels.com/" target="_blank" rel="noopener">pexels</a>ã€<a href="https://pixabay.com/" target="_blank" rel="noopener">pixabay</a>ç­‰å¹³å°çš„å°å·¥å…·ï¼Œä¸Šåƒå¼ é«˜æ¸…å£çº¸ï¼Œæ¯å¤©ç»™æ‚¨å¸¦æ¥å…¨æ–°çš„è‰ºæœ¯ä½“éªŒã€‚</p><p>åŠŸèƒ½ï¼š</p><p>- 15åˆ†é’Ÿã€30åˆ†é’Ÿã€1å°æ—¶ã€2å°æ—¶ã€1å¤©ã€15å¤©ã€1æœˆè‡ªåŠ¨æ›´æ¢å£çº¸ã€‚</p><p>- å£çº¸å¹³å°åˆ‡æ¢ï¼Œæ€»æœ‰ä¸€æ¬¾é€‚åˆä½ ã€‚</p><p>- å¿«æ·é”®åŠŸèƒ½ï¼Œå¿«é€Ÿæ›´æ¢ä¸å–œæ¬¢çš„å£çº¸ã€‚</p><p>- æ¯å¼ å£çº¸éƒ½å¯ä¸‹è½½åˆ°Mac</p><p>ä½¿ç”¨Sugarpaperä¿æŒæ‚¨çš„Macæ¡Œé¢çš„æ–°é²œæ„Ÿ!</p><h1 id="Sugarpaperå±•ç¤º"><a href="#Sugarpaperå±•ç¤º" class="headerlink" title="Sugarpaperå±•ç¤º"></a>Sugarpaperå±•ç¤º</h1><p><img src="/resource/sugarpaper/1.jpg" alt="1"></p><p><img src="/resource/sugarpaper/2.jpg" alt="2"></p><p><img src="/resource/sugarpaper/3.jpg" alt="3"></p><h1 id="Sugarpaperå¼€å‘ç›®çš„"><a href="#Sugarpaperå¼€å‘ç›®çš„" class="headerlink" title="Sugarpaperå¼€å‘ç›®çš„"></a>Sugarpaperå¼€å‘ç›®çš„</h1><p>æœ¬äººæ˜¯ä¸ªææœºçˆ±å¥½è€…ï¼Œå–œæ¬¢å„ç§èŠ±å“¨çš„å£çº¸å’Œå­—ä½“ç­‰ï¼Œä¹Ÿä½¿ç”¨è¿‡å¥½å¤šå£çº¸ç±»åº”ç”¨ï¼Œä½†éƒ½æ²¡èƒ½åšæŒå¤šä¹…å°±å¸è½½äº†ï¼Œæ¯”å¦‚ï¼š</p><p><a href="https://paper.meiyuan.in/" target="_blank" rel="noopener">pap.er</a></p><p><a href="https://apps.apple.com/cn/app/unsplash-wallpapers/id1284863847?mt=12" target="_blank" rel="noopener">unsplash</a></p><p><a href="https://apps.apple.com/app/irvue-unsplash-wallpapers/id1039633667" target="_blank" rel="noopener">Irvue</a></p><p><a href="https://github.com/libcm/Strawberry-Wallpaper" target="_blank" rel="noopener">Strawberry Wallpaper</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Sugarpaperä»‹ç»&quot;&gt;&lt;a href=&quot;#Sugarpaperä»‹ç»&quot; class=&quot;headerlink&quot; title=&quot;Sugarpaperä»‹ç»&quot;&gt;&lt;/a&gt;Sugarpaperä»‹ç»&lt;/h1&gt;&lt;p&gt;Sugarpaperæ˜¯ä¸€æ¬¾ç»¼åˆ&lt;a href=&quot;https:
      
    
    </summary>
    
      <category term="MacOS" scheme="https://www.liyb.vip/categories/MacOS/"/>
    
    
      <category term="MacOS" scheme="https://www.liyb.vip/tags/MacOS/"/>
    
      <category term="Sugarpaper" scheme="https://www.liyb.vip/tags/Sugarpaper/"/>
    
  </entry>
  
  <entry>
    <title>è§†é¢‘æå–éŸ³é¢‘å’ŒéŸ³é¢‘è£å‰ª</title>
    <link href="https://www.liyb.vip/2019/08/12/%E8%A7%86%E9%A2%91%E6%8F%90%E5%8F%96%E9%9F%B3%E9%A2%91%E5%92%8C%E9%9F%B3%E9%A2%91%E8%A3%81%E5%89%AA/"/>
    <id>https://www.liyb.vip/2019/08/12/è§†é¢‘æå–éŸ³é¢‘å’ŒéŸ³é¢‘è£å‰ª/</id>
    <published>2019-08-12T10:47:29.807Z</published>
    <updated>2019-08-16T05:14:19.783Z</updated>
    
    <content type="html"><![CDATA[<p>æœ€è¿‘é¡¹ç›®ä¸­éœ€è¦ä»è§†é¢‘ä¸­æå–éŸ³é¢‘ï¼Œå¹¶éœ€è¦æ ¹æ®éŸ³é¢‘æ—¶é—´é—´éš”è¿›è¡Œè£å‰ªï¼Œæ‰€ä»¥åœ¨æ­¤è®°å½•ä¸‹å®ç°è¿‡ç¨‹ã€‚</p><h1 id="éŸ³é¢‘æå–"><a href="#éŸ³é¢‘æå–" class="headerlink" title="éŸ³é¢‘æå–"></a>éŸ³é¢‘æå–</h1><p>éŸ³é¢‘æå–åŸç†æ˜¯é€šè¿‡åˆ›å»ºåªåŒ…å«åŸå§‹æ–‡ä»¶çš„éŸ³é¢‘éŸ³è½¨å¹¶ä½¿ç”¨ <code>AVAssetExportSession</code>å¯¼å‡ºç»„åˆæ–‡ä»¶çš„<code>AVMutableComposition</code> æ¥å®ŒæˆéŸ³é¢‘æå–ã€‚</p><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">è¾“å‡ºè·¯å¾„</span></span><br><span class="line"><span class="comment">self.cachePath: è·å–ç¼“å­˜è·¯å¾„</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">NSString</span> *outPath = [<span class="keyword">self</span>.cachePath stringByAppendingPathComponent: [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%@.m4a"</span>, name]];</span><br><span class="line"><span class="comment">// åˆ›å»ºç»„åˆæ–‡ä»¶</span></span><br><span class="line"><span class="built_in">AVMutableComposition</span> *composition = [[<span class="built_in">AVMutableComposition</span> alloc] init];</span><br><span class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> fileURLWithPath:path];</span><br><span class="line"><span class="built_in">AVURLAsset</span> *asset = [[<span class="built_in">AVURLAsset</span> alloc] initWithURL:url options:<span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">AVAssetTrack</span> *track = [asset tracksWithMediaType:<span class="built_in">AVMediaTypeAudio</span>].firstObject;</span><br><span class="line"><span class="built_in">AVMutableCompositionTrack</span> *comTrack = [composition addMutableTrackWithMediaType:<span class="built_in">AVMediaTypeAudio</span> preferredTrackID:kCMPersistentTrackID_Invalid];</span><br><span class="line"><span class="built_in">NSError</span> *error;</span><br><span class="line">[comTrack insertTimeRange:track.timeRange ofTrack:track atTime:kCMTimeZero error:&amp;error];</span><br><span class="line"><span class="keyword">if</span> (error) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"åˆ›å»ºå¤±è´¥"</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// åˆ›å»ºåªåŒ…å«åŸå§‹æ–‡ä»¶çš„éŸ³é¢‘éŸ³è½¨</span></span><br><span class="line"><span class="built_in">AVAssetExportSession</span> *session = [[<span class="built_in">AVAssetExportSession</span> alloc] initWithAsset:composition presetName:<span class="built_in">AVAssetExportPresetPassthrough</span>];</span><br><span class="line"><span class="comment">// å¯¼å‡ºæ–‡ä»¶ç±»å‹.m4aæ ¼å¼</span></span><br><span class="line">session.outputFileType = <span class="built_in">AVFileTypeAppleM4A</span>;</span><br><span class="line">session.outputURL = [<span class="built_in">NSURL</span> fileURLWithPath:outPath];</span><br><span class="line"><span class="comment">// éŸ³é¢‘å¯¼å‡º</span></span><br><span class="line">[session exportAsynchronouslyWithCompletionHandler:^&#123;</span><br><span class="line">    <span class="built_in">AVAssetExportSessionStatus</span> status = session.status;</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">AVAssetExportSessionStatusCompleted</span> == status) &#123;</span><br><span class="line">        <span class="built_in">NSLog</span>(<span class="string">@"éŸ³é¢‘å¯¼å‡ºæˆåŠŸ"</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"éŸ³é¢‘å¯¼å‡ºå¤±è´¥"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure><h1 id="éŸ³é¢‘è£å‰ª"><a href="#éŸ³é¢‘è£å‰ª" class="headerlink" title="éŸ³é¢‘è£å‰ª"></a>éŸ³é¢‘è£å‰ª</h1><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">æ ¹æ®æ—¶é—´é—´éš”è£å‰ªéŸ³é¢‘</span></span><br><span class="line"><span class="comment">path: éŸ³é¢‘è·¯å¾„</span></span><br><span class="line"><span class="comment">time: æ—¶é—´é—´éš”</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">- (<span class="keyword">void</span>)cutAudioWithPath:(<span class="built_in">NSString</span> *)path intervalTime:(<span class="built_in">NSInteger</span>)time &#123;</span><br><span class="line"><span class="comment">// è·å–éŸ³é¢‘æ—¶é•¿</span></span><br><span class="line"><span class="built_in">NSURL</span> *url = [<span class="built_in">NSURL</span> fileURLWithPath:path];</span><br><span class="line"><span class="built_in">AVURLAsset</span>*audioAsset = [<span class="built_in">AVURLAsset</span> URLAssetWithURL:url options:<span class="literal">nil</span>];</span><br><span class="line"><span class="built_in">CMTime</span> totalDuration = audioAsset.duration;</span><br><span class="line"><span class="built_in">CGFloat</span> audioSeconds = <span class="built_in">CMTimeGetSeconds</span>(totalDuration);</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (audioSeconds &gt; time) &#123;</span><br><span class="line">    <span class="built_in">NSInteger</span> number = ceil(audioSeconds / time);</span><br><span class="line">    <span class="keyword">for</span> (<span class="built_in">NSInteger</span> idx = <span class="number">0</span>; idx &lt; number; idx ++) &#123;</span><br><span class="line">        <span class="built_in">NSInteger</span> t = idx * time;</span><br><span class="line">        <span class="built_in">CMTime</span> startTime = <span class="built_in">CMTimeMake</span>(t, <span class="number">1</span>);;</span><br><span class="line">        <span class="built_in">CMTime</span> endTime;</span><br><span class="line">        <span class="keyword">if</span> (t &gt; audioSeconds) &#123;</span><br><span class="line">            endTime = <span class="built_in">CMTimeMake</span>(audioSeconds, <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            endTime = <span class="built_in">CMTimeMake</span>(time, <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">NSString</span> *fileName = [<span class="built_in">NSString</span> stringWithFormat:<span class="string">@"%zi.m4a"</span>, t];</span><br><span class="line">        <span class="built_in">NSString</span> *outPutPath = [[<span class="keyword">self</span> composeDir] stringByAppendingPathComponent:fileName];</span><br><span class="line">        <span class="built_in">NSURL</span> *audioFileOutput = [<span class="built_in">NSURL</span> fileURLWithPath:outPutPath];</span><br><span class="line">        [[<span class="built_in">NSFileManager</span> defaultManager] removeItemAtURL:audioFileOutput error:<span class="literal">NULL</span>];</span><br><span class="line">        <span class="built_in">AVAsset</span> *asset = [<span class="built_in">AVAsset</span> assetWithURL:url];</span><br><span class="line">        <span class="built_in">AVAssetExportSession</span> *exportSession = [<span class="built_in">AVAssetExportSession</span> exportSessionWithAsset:asset presetName:<span class="built_in">AVAssetExportPresetAppleM4A</span>];</span><br><span class="line">        <span class="built_in">CMTimeRange</span> exportTimeRange = <span class="built_in">CMTimeRangeFromTimeToTime</span>(startTime, endTime);</span><br><span class="line">        </span><br><span class="line">        exportSession.outputURL = audioFileOutput;</span><br><span class="line">        exportSession.outputFileType = <span class="built_in">AVFileTypeAppleM4A</span>;</span><br><span class="line">        exportSession.timeRange = exportTimeRange;</span><br><span class="line">        </span><br><span class="line">        [exportSession exportAsynchronouslyWithCompletionHandler:^&#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">AVAssetExportSessionStatusCompleted</span> == exportSession.status) &#123;</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"å¯¼å‡ºå®Œæˆ: %@"</span>, outPutPath);</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="built_in">AVAssetExportSessionStatusFailed</span> == exportSession.status) &#123;</span><br><span class="line">                <span class="built_in">NSLog</span>(<span class="string">@"å¯¼å‡ºå¤±è´¥: %@"</span>, exportSession.error.localizedDescription);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;];</span><br><span class="line">    &#125;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"éŸ³é¢‘æ—¶é•¿å°äºè£å‰ªæ—¶é—´é—´éš”"</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;æœ€è¿‘é¡¹ç›®ä¸­éœ€è¦ä»è§†é¢‘ä¸­æå–éŸ³é¢‘ï¼Œå¹¶éœ€è¦æ ¹æ®éŸ³é¢‘æ—¶é—´é—´éš”è¿›è¡Œè£å‰ªï¼Œæ‰€ä»¥åœ¨æ­¤è®°å½•ä¸‹å®ç°è¿‡ç¨‹ã€‚&lt;/p&gt;
&lt;h1 id=&quot;éŸ³é¢‘æå–&quot;&gt;&lt;a href=&quot;#éŸ³é¢‘æå–&quot; class=&quot;headerlink&quot; title=&quot;éŸ³é¢‘æå–&quot;&gt;&lt;/a&gt;éŸ³é¢‘æå–&lt;/h1&gt;&lt;p&gt;éŸ³é¢‘æå–åŸç†æ˜¯é€šè¿‡åˆ›
      
    
    </summary>
    
      <category term="iOS" scheme="https://www.liyb.vip/categories/iOS/"/>
    
    
      <category term="éŸ³è§†é¢‘" scheme="https://www.liyb.vip/tags/%E9%9F%B3%E8%A7%86%E9%A2%91/"/>
    
  </entry>
  
  <entry>
    <title>iOSé€†å‘å­¦ä¹ (ä¸€)-ç¯å¢ƒæ­å»º</title>
    <link href="https://www.liyb.vip/2019/08/11/iOS%E9%80%86%E5%90%91%E5%AD%A6%E4%B9%A0(%E4%B8%80)-%E7%8E%AF%E5%A2%83%E6%90%AD%E5%BB%BA/"/>
    <id>https://www.liyb.vip/2019/08/11/iOSé€†å‘å­¦ä¹ (ä¸€)-ç¯å¢ƒæ­å»º/</id>
    <published>2019-08-11T08:08:53.720Z</published>
    <updated>2019-08-15T10:39:51.624Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å‰æ"><a href="#å‰æ" class="headerlink" title="å‰æ"></a>å‰æ</h1><ul><li>è¶Šç‹±æ‰‹æœº</li></ul><p>å¦‚æœæ²¡æœ‰è¶Šç‹±åé¢çš„æ“ä½œæ— æ³•å®ç°ï¼Œå¦‚ä½•è¶Šç‹±ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸è®²äº†ï¼Œç½‘ä¸Šæ•™ç¨‹å¾ˆå¤šã€‚</p><h1 id="é…ç½®SSH"><a href="#é…ç½®SSH" class="headerlink" title="é…ç½®SSH"></a>é…ç½®SSH</h1><p>SSHæ˜¯Secure Shellç®€ç§°ï¼Œ æ˜¯ä¸€ç§åŠ å¯†çš„ç½‘ç»œä¼ è¾“åè®®ï¼Œå¯åœ¨ä¸å®‰å…¨çš„ç½‘ç»œä¸­ä¸ºç½‘ç»œæœåŠ¡æä¾›å®‰å…¨çš„ä¼ è¾“ç¯å¢ƒã€‚SSHé€šè¿‡åœ¨ç½‘ç»œä¸­åˆ›å»ºå®‰å…¨éš§é“æ¥å®ç°SSHå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ã€‚</p><p>é…ç½®SSHæ˜¯æˆ‘ä»¬åç»­å·¥ä½œçš„åŸºç¡€ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡SSHå®ç°PCç«¯è®¿é—®iPhoneæ‰‹æœºã€‚</p><h2 id="å®‰è£…æ‰€éœ€APP"><a href="#å®‰è£…æ‰€éœ€APP" class="headerlink" title="å®‰è£…æ‰€éœ€APP"></a>å®‰è£…æ‰€éœ€APP</h2><h3 id="å¸è½½OpenSSHä¸OpenSSL"><a href="#å¸è½½OpenSSHä¸OpenSSL" class="headerlink" title="å¸è½½OpenSSHä¸OpenSSL"></a>å¸è½½OpenSSHä¸OpenSSL</h3><p>iOS 10ä»¥åè¶Šç‹±è‡ªå¸¦SSH,ä½†æ˜¯æ— æ³•è¿æ¥iPhoneæˆ–æŠ¥é”™,æ‰€ä»¥éœ€è¦é¦–å…ˆå¸è½½OpenSSHä¸OpenSSLã€‚åœ¨Cydiaä¸­æœç´¢OpenSSHä¸OpenSSL,ç„¶åå¸è½½ã€‚</p><h3 id="æ·»åŠ æº"><a href="#æ·»åŠ æº" class="headerlink" title="æ·»åŠ æº"></a>æ·»åŠ æº</h3><p>è‡ªå¸¦æºæ²¡æœ‰Dropbearï¼Œæ‰€ä»¥éœ€è¦æ·»åŠ æ–°æºï¼Œè¿™é‡Œæˆ‘æä¾›ä¸€ä¸ªæº: <code>http://apt.abcydia.com</code>,ä¹Ÿå¯ä»¥è‡ªå·±æœç´¢å…¶ä»–æºã€‚</p><h3 id="å®‰è£…Dropbear"><a href="#å®‰è£…Dropbear" class="headerlink" title="å®‰è£…Dropbear"></a>å®‰è£…Dropbear</h3><p>æœç´¢Dropbearå¹¶å®‰è£…ã€‚</p><h3 id="å®‰è£…MTerminal"><a href="#å®‰è£…MTerminal" class="headerlink" title="å®‰è£…MTerminal"></a>å®‰è£…MTerminal</h3><p>æœç´¢MTerminalå¹¶å®‰è£…ã€‚</p><h1 id="è¿æ¥iPhone"><a href="#è¿æ¥iPhone" class="headerlink" title="è¿æ¥iPhone"></a>è¿æ¥iPhone</h1><h2 id="WIFIè¿æ¥"><a href="#WIFIè¿æ¥" class="headerlink" title="WIFIè¿æ¥"></a>WIFIè¿æ¥</h2><h3 id="å‰æ-1"><a href="#å‰æ-1" class="headerlink" title="å‰æ"></a>å‰æ</h3><ul><li>PCä¸iPhoneåœ¨åŒä¸€å±€åŸŸç½‘</li></ul><p>æ‰“å¼€MTerminalï¼Œè¾“å…¥ä»¥ä¸‹å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su</span><br></pre></td></tr></table></figure><p>è¾“å…¥rootå¯†ç ï¼Œé»˜è®¤ä¸º<code>alpine</code>,ç„¶åæ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼ŒæŸ¥çœ‹dropbearè¿›ç¨‹æ˜¯å¦æ‰§è¡Œ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps aux|grep dropbear</span><br></pre></td></tr></table></figure><p>å¦‚æœæ²¡æœ‰<code>dropbear</code>è¿›ç¨‹ï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/bin/dropbear -F -R -p 22</span><br></pre></td></tr></table></figure><p>ç„¶åè·å–iPhoneæ‰€åœ¨ç½‘ç»œä¸‹çš„ipåœ°å€,PCç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 172.20.122.108 iPhone ipåœ°å€</span><br><span class="line">ssh root@172.20.122.108</span><br></pre></td></tr></table></figure><p>å¦‚æœæœ‰ä»¥ä¸‹æç¤º</p><pre><code>The authenticity of host &apos;192.168.1.105 (192.168.1.105)&apos; can&apos;t be established.ECDSA key fingerprint is SHA256:ANF7Cvc1yM/ZdaHyz9V1EHjG115cylIcHWyOzCL+kzs.Are you sure you want to continue connecting (yes/no)?</code></pre><p>è¾“å…¥<code>yes</code>å³å¯,ç„¶åè¾“å…¥rootå¯†ç ï¼Œé»˜è®¤å¯†ç <code>alpine</code></p><h2 id="USBè¿æ¥"><a href="#USBè¿æ¥" class="headerlink" title="USBè¿æ¥"></a>USBè¿æ¥</h2><p>æœ‰æ—¶å€™ç½‘ç»œä¸ç¨³å®šçš„æ—¶å€™ï¼Œä½¿ç”¨WIFIè¿æ¥å“åº”å¯èƒ½ä¼šå¾ˆæ…¢ï¼Œæ‰€ä»¥è¿™é‡Œè®²ä¸‹æ¯”WIFIè¿æ¥å“åº”æ›´å¿«çš„USBè¿æ¥ã€‚</p><h3 id="å®‰è£…usbmuxd"><a href="#å®‰è£…usbmuxd" class="headerlink" title="å®‰è£…usbmuxd"></a>å®‰è£…usbmuxd</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew install usbmuxd</span><br></pre></td></tr></table></figure><p>å®‰è£…æˆåŠŸå,æ‰§è¡Œä»¥ä¸‹å‘½ä»¤è¿æ¥iPhone</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// æŠŠiPhoneçš„é»˜è®¤ç«¯å£22æ˜ å°„åˆ°PC 2222ç«¯å£ä¸Šé¢</span><br><span class="line">iproxy 2222 22</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œå®Œåï¼Œä¼šä¸€ç›´æ˜¾ç¤º<code>waiting for connection</code>ï¼Œæ­¤æ—¶ä¸è¦æ…Œï¼Œå†æ‰“å¼€ä¸€ä¸ªç»ˆç«¯çª—å£,æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ssh -p 2222 root@localhost</span><br><span class="line">// æˆ–</span><br><span class="line">ssh -p 2222 root@127.0.0.1</span><br></pre></td></tr></table></figure><p>å¦‚æœè¿æ¥å¤±è´¥ï¼Œè¯·æŸ¥çœ‹æ•°æ®çº¿æ˜¯å¦è¿æ¥æ­£å¸¸;è¿æ¥æˆåŠŸåå°±å¯ä»¥å°½æƒ…è®¿é—®iPhoneé‡Œé¢æ•°æ®äº†ã€‚</p><h1 id="ä¿®æ”¹SSHå¯†ç "><a href="#ä¿®æ”¹SSHå¯†ç " class="headerlink" title="ä¿®æ”¹SSHå¯†ç "></a>ä¿®æ”¹SSHå¯†ç </h1><h2 id="ROOTå¯†ç "><a href="#ROOTå¯†ç " class="headerlink" title="ROOTå¯†ç "></a>ROOTå¯†ç </h2><p>1.é¦–å…ˆä½¿ç”¨rootæƒé™è¿æ¥iPhone</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@xxx.xxx.xxx.xxx</span><br></pre></td></tr></table></figure><p>2.æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œä¿®æ”¹å¯†ç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><p>3.æŒ‰æç¤ºè¾“å…¥ä¸¤æ¬¡æ–°å¯†ç å³å¯ã€‚<br>4.<code>exit</code>å‘½ä»¤é€€å‡ºè¿æ¥ã€‚</p><h2 id="mobileå¯†ç "><a href="#mobileå¯†ç " class="headerlink" title="mobileå¯†ç "></a>mobileå¯†ç </h2><p>1.é¦–å…ˆä½¿ç”¨mobileæƒé™è¿æ¥iPhone</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh mobile@xxx.xxx.xxx.xxx</span><br></pre></td></tr></table></figure><p>2.æ‰§è¡Œä¸‹é¢å‘½ä»¤ï¼Œä¿®æ”¹å¯†ç </p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd</span><br></pre></td></tr></table></figure><p>3.æŒ‰æç¤ºè¾“å…¥ä¸¤æ¬¡æ–°å¯†ç å³å¯ã€‚<br>4.<code>exit</code>å‘½ä»¤é€€å‡ºè¿æ¥ã€‚</p><h1 id="å…å¯†ç™»å½•"><a href="#å…å¯†ç™»å½•" class="headerlink" title="å…å¯†ç™»å½•"></a>å…å¯†ç™»å½•</h1><p>é¦–å…ˆæŸ¥çœ‹<code>.ssh</code>ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>ï¼Œå¦‚æœå·²å­˜åœ¨ï¼Œæ— éœ€å†æ¬¡ç”Ÿæˆã€‚</p><h2 id="ç”ŸæˆRSAå…¬ç§é’¥"><a href="#ç”ŸæˆRSAå…¬ç§é’¥" class="headerlink" title="ç”ŸæˆRSAå…¬ç§é’¥"></a>ç”ŸæˆRSAå…¬ç§é’¥</h2><p>ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹<code>.ssh</code>ç›®å½•ä¸‹æ˜¯å¦ç”Ÿæˆäº†<code>id_rsa</code>å’Œ<code>id_rsa.pub</code>æ–‡ä»¶ã€‚</p><h2 id="æ¨é€å…¬é’¥åˆ°iPhone"><a href="#æ¨é€å…¬é’¥åˆ°iPhone" class="headerlink" title="æ¨é€å…¬é’¥åˆ°iPhone"></a>æ¨é€å…¬é’¥åˆ°iPhone</h2><p>è¿æ¥iPhoneï¼Œæ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 2222 iPhoneçš„é»˜è®¤ç«¯å£22æ˜ å°„PCç«¯çš„ç«¯å£å·</span><br><span class="line">ssh-copy-id root@localhost -p 2222</span><br></pre></td></tr></table></figure><p>è¾“å…¥å¯†ç ï¼Œå¦‚æœå·²ä¿®æ”¹ï¼Œè¾“å…¥ä¿®æ”¹åçš„å¯†ç ,æœªä¿®æ”¹è¾“å…¥é»˜è®¤å¯†ç <code>alpine</code>ã€‚</p><p>æ¥ä¸‹æ¥å†æ¬¡ç™»å½•å°±ä¼šå‘çº¿ä¸ç”¨è¾“å…¥å¯†ç äº†ã€‚</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å‰æ&quot;&gt;&lt;a href=&quot;#å‰æ&quot; class=&quot;headerlink&quot; title=&quot;å‰æ&quot;&gt;&lt;/a&gt;å‰æ&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;è¶Šç‹±æ‰‹æœº&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;å¦‚æœæ²¡æœ‰è¶Šç‹±åé¢çš„æ“ä½œæ— æ³•å®ç°ï¼Œå¦‚ä½•è¶Šç‹±ï¼Œè¿™é‡Œæˆ‘ä»¬å°±ä¸è®²äº†ï¼Œç½‘ä¸Šæ•™ç¨‹å¾ˆå¤šã€‚&lt;/p&gt;
&lt;h1
      
    
    </summary>
    
      <category term="iOS" scheme="https://www.liyb.vip/categories/iOS/"/>
    
    
      <category term="é€†å‘" scheme="https://www.liyb.vip/tags/%E9%80%86%E5%90%91/"/>
    
  </entry>
  
  <entry>
    <title>Hexoåšå®¢æ­å»º</title>
    <link href="https://www.liyb.vip/2019/05/07/Hexo%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/"/>
    <id>https://www.liyb.vip/2019/05/07/Hexoåšå®¢æ­å»º/</id>
    <published>2019-05-07T10:45:07.636Z</published>
    <updated>2019-09-09T06:28:34.095Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åšå®¢æ­å»º"><a href="#åšå®¢æ­å»º" class="headerlink" title="åšå®¢æ­å»º"></a>åšå®¢æ­å»º</h1><h2 id="Hexoå®‰è£…"><a href="#Hexoå®‰è£…" class="headerlink" title="Hexoå®‰è£…"></a>Hexoå®‰è£…</h2><p>å®‰è£…å‰æ</p><ul><li><a href="https://nodejs.org/en/" target="_blank" rel="noopener">Node.js</a></li><li><a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a></li></ul><p>å¦‚æœå·²ç»å®‰è£…ä»¥ä¸Šä¸¤é¡¹ï¼Œå¯ä»¥ç›´æ¥å®‰è£…hexo</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> npm install -g hexo-cli</span><br></pre></td></tr></table></figure><p>åˆå§‹åŒ–Hexo</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cd &lt;å­˜æ”¾åšå®¢çš„è·¯å¾„&gt;</span><br><span class="line"><span class="meta">$</span> hexo init &lt;åšå®¢å&gt;</span><br><span class="line"><span class="meta">$</span> cd &lt;åšå®¢å&gt;</span><br><span class="line"><span class="meta">$</span> npm install</span><br></pre></td></tr></table></figure><p>åˆ›å»ºå®Œæˆ,ç›®å½•ç»“æ„å¦‚ä¸‹:</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">â”œâ”€â”€ _config.yml// é…ç½®æ–‡ä»¶</span><br><span class="line">â”œâ”€â”€ package.json// åº”ç”¨ç¨‹åºçš„ä¿¡æ¯</span><br><span class="line">â”œâ”€â”€ scaffolds// æ¨¡ç‰ˆ æ–‡ä»¶å¤¹</span><br><span class="line">â”œâ”€â”€ source// èµ„æºæ–‡ä»¶å¤¹</span><br><span class="line">|   â”œâ”€â”€ _drafts</span><br><span class="line">|   â””â”€â”€ _posts// æ–‡ç« </span><br><span class="line">â””â”€â”€ themes// ä¸»é¢˜</span><br></pre></td></tr></table></figure><p>å¯åŠ¨æœåŠ¡ï¼ŒæŸ¥çœ‹æ•ˆæœ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> hexo server // æˆ– hexo s</span><br></pre></td></tr></table></figure><p>æµè§ˆå™¨è®¿é—®:<a href="http://localhost:4000/" target="_blank" rel="noopener">http://localhost:4000/</a></p><h2 id="Githubå…³è”"><a href="#Githubå…³è”" class="headerlink" title="Githubå…³è”"></a>Githubå…³è”</h2><p>åˆ›å»ºä»“åº“ï¼Œå‘½åè§„åˆ™ <code>&lt;è´¦æˆ·å&gt;.github.io</code></p><p>ä¿®æ”¹_config.ymlé…ç½®æ–‡ä»¶ï¼Œæœ«å°¾ä¿®æ”¹ä¸ºä»¥ä¸‹å†…å®¹<font color="red">(æ³¨æ„:â€œ:â€åé¢æœ‰ä¸€ä¸ªç©ºæ ¼)</font></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">deploy:</span><br><span class="line">type: git</span><br><span class="line">repository: https://github.com/xxx/xxx.github.io.git// åˆšæ‰åˆ›å»ºä»“åº“gité“¾æ¥</span><br><span class="line">branch: master</span><br></pre></td></tr></table></figure><p>æ¨é€åˆ°githubä»“åº“</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> hexo g// ç”Ÿæˆhtmlé™æ€æ–‡ä»¶</span><br><span class="line"><span class="meta">$</span> hexo d// pushåˆ°github</span><br></pre></td></tr></table></figure><p>ç„¶åæµè§ˆå™¨è®¿é—® <code>https://&lt;è´¦æˆ·å&gt;.github.io</code>ï¼Œå³å¯æŸ¥çœ‹åšå®¢</p><h2 id="ç»‘å®šåŸŸå"><a href="#ç»‘å®šåŸŸå" class="headerlink" title="ç»‘å®šåŸŸå"></a>ç»‘å®šåŸŸå</h2><p>è´­ä¹°åŸŸå:<a href="https://wanwang.aliyun.com/" target="_blank" rel="noopener">é˜¿é‡Œäº‘ä¸‡ç½‘</a>ã€<a href="https://dnspod.cloud.tencent.com/" target="_blank" rel="noopener">è…¾è®¯äº‘</a>ç­‰</p><p>åŸŸåè§£æç…§ä¸‹å›¾æ·»åŠ å³å¯</p><p><img src="/resource/hexo/åŸŸåè§£æ.png" alt></p><p>æ‰“å¼€åšå®¢ä»“åº“</p><p><img src="/resource/hexo/ä»“åº“è®¾ç½®.png" alt><br><img src="/resource/hexo/ä»“åº“è®¾ç½®_2.png" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åšå®¢æ­å»º&quot;&gt;&lt;a href=&quot;#åšå®¢æ­å»º&quot; class=&quot;headerlink&quot; title=&quot;åšå®¢æ­å»º&quot;&gt;&lt;/a&gt;åšå®¢æ­å»º&lt;/h1&gt;&lt;h2 id=&quot;Hexoå®‰è£…&quot;&gt;&lt;a href=&quot;#Hexoå®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;Hexoå®‰
      
    
    </summary>
    
      <category term="Hexo" scheme="https://www.liyb.vip/categories/Hexo/"/>
    
    
      <category term="hexo" scheme="https://www.liyb.vip/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>MacOS 10.14.xå®‰è£…æ—§ç‰ˆiTunes</title>
    <link href="https://www.liyb.vip/2019/04/17/MacOS%2010.14.x%E5%AE%89%E8%A3%85%E6%97%A7%E7%89%88iTunes/"/>
    <id>https://www.liyb.vip/2019/04/17/MacOS 10.14.xå®‰è£…æ—§ç‰ˆiTunes/</id>
    <published>2019-04-17T03:09:54.286Z</published>
    <updated>2019-09-09T06:20:01.990Z</updated>
    
    <content type="html"><![CDATA[<h1 id="iTunes12-6-xä¸‹è½½åœ°å€"><a href="#iTunes12-6-xä¸‹è½½åœ°å€" class="headerlink" title="iTunes12.6.xä¸‹è½½åœ°å€"></a>iTunes12.6.xä¸‹è½½åœ°å€</h1><p><a href="https://support.apple.com/zh-cn/HT208079" target="_blank" rel="noopener">iTunes12.6.x</a></p><h1 id="å…³é—­sipç³»ç»Ÿå®Œæ•´æ€§ä¿æŠ¤"><a href="#å…³é—­sipç³»ç»Ÿå®Œæ•´æ€§ä¿æŠ¤" class="headerlink" title="å…³é—­sipç³»ç»Ÿå®Œæ•´æ€§ä¿æŠ¤"></a>å…³é—­sipç³»ç»Ÿå®Œæ•´æ€§ä¿æŠ¤</h1><p>æ‰“å¼€Macç»ˆç«¯è¾“å…¥å‘½ä»¤æŸ¥çœ‹sipçŠ¶æ€</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csrutil status</span><br></pre></td></tr></table></figure><p>å¦‚æœæ˜¯disabledç›´æ¥è·³è¿‡å…³é—­sipæ­¥éª¤,å¦‚æœæ˜¯enabledæ‰§è¡Œä¸‹ä¸€æ­¥</p><p><img src="/resource/iTunes/1.png" alt></p><p>é‡å¯ç”µè„‘,æŒ‰ä½cmmand+rç›´åˆ°æ˜¾ç¤ºè‹¹æœå›¾æ ‡æ—¶æ¾å¼€ï¼Œè¿›å…¥ä¿®å¤æ¨¡å¼ã€‚</p><p>ç‚¹å‡»é¡¶éƒ¨å¯¼èˆªæ å®ç”¨å·¥å…·,é€‰æ‹©ç»ˆç«¯ã€‚</p><p>ç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤å…³é—­sip</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csrutil disable</span><br></pre></td></tr></table></figure><p>é‡å¯ç”µè„‘.</p><h1 id="æ‰§è¡Œè„šæœ¬å®‰è£…æ—§ç‰ˆiTunes"><a href="#æ‰§è¡Œè„šæœ¬å®‰è£…æ—§ç‰ˆiTunes" class="headerlink" title="æ‰§è¡Œè„šæœ¬å®‰è£…æ—§ç‰ˆiTunes"></a>æ‰§è¡Œè„šæœ¬å®‰è£…æ—§ç‰ˆiTunes</h1><p>1.æ‰“å¼€LaunchPadæ‰¾åˆ°è„šæœ¬ç¼–è¾‘å™¨ï¼Œç²˜è´´ä¸‹é¢è„šæœ¬ä»£ç ,ç‚¹å‡»è¿è¡ŒæŒ‰ç…§æç¤ºé€‰æ‹©12.6.xç‰ˆæœ¬iTuneså®‰è£…å³å¯.</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">set question to display dialog "Delete iTtunes?" buttons &#123;"Yes", "No"&#125; default button 1</span><br><span class="line">set answer to button returned of question</span><br><span class="line">if answer is equal to "Yes" then</span><br><span class="line">    do shell script "rm -rf /Applications/iTunes.app" with administrator privileges</span><br><span class="line">    display dialog "iTunes was deleted" buttons &#123;"Ok"&#125;</span><br><span class="line">    set theDMG to choose file with prompt "Please select iTunes 12.6 dmg file:" of type &#123;"dmg"&#125;</span><br><span class="line">    do shell script "hdiutil mount " &amp; quoted form of POSIX path of theDMG</span><br><span class="line">    do shell script "pkgutil --expand /Volumes/iTunes/Install\\ iTunes.pkg ~/tmp"</span><br><span class="line">    do shell script "sed -i '' 's/18A1/14F2511/g' ~/tmp/Distribution"</span><br><span class="line">    do shell script "sed -i '' 's/gt/lt/g' ~/tmp/Distribution"</span><br><span class="line">    do shell script "pkgutil --flatten ~/tmp ~/Desktop/iTunes.pkg"</span><br><span class="line">    do shell script "hdiutil unmount /Volumes/iTunes/"</span><br><span class="line">    do shell script "rm -rf ~/tmp"</span><br><span class="line">end if</span><br><span class="line">if answer is equal to "No" then</span><br><span class="line">    display dialog "iTunes was not deleted" buttons &#123;"Ok"&#125;</span><br><span class="line">    return</span><br><span class="line">end if</span><br><span class="line"></span><br><span class="line">set question to display dialog "Install iTtunes?" buttons &#123;"Yes", "No"&#125; default button 1</span><br><span class="line">set answer to button returned of question</span><br><span class="line">if answer is equal to "Yes" then</span><br><span class="line">    do shell script "open ~/Desktop/iTunes.pkg"</span><br><span class="line">    return</span><br><span class="line">end if</span><br><span class="line">if answer is equal to "No" then</span><br><span class="line">    display dialog "Modified iTunes.pkg saved on desktop" buttons &#123;"Ok"&#125;</span><br><span class="line">    return</span><br><span class="line">end if</span><br></pre></td></tr></table></figure><p>è¿è¡Œæ—¶å¦‚æœæç¤º iTunes Library.itlé”™è¯¯,ç»ˆç«¯è¿è¡Œå‘½ä»¤ï¼š<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo rm ~/Music/iTunes/iTunes\ Library.itl</span><br></pre></td></tr></table></figure></p><p>å®‰è£…å®Œæˆé‡å¯ç”µè„‘è¿›å…¥ä¿®å¤æ¨¡å¼ï¼Œç»ˆç«¯ä¸­è¾“å…¥å‘½ä»¤å¼€å¯sip<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">csrutil enable</span><br></pre></td></tr></table></figure></p><h1 id="MacOS-10-14-4æ— æ³•æ‰“å¼€é—®é¢˜è§£å†³"><a href="#MacOS-10-14-4æ— æ³•æ‰“å¼€é—®é¢˜è§£å†³" class="headerlink" title="MacOS 10.14.4æ— æ³•æ‰“å¼€é—®é¢˜è§£å†³"></a>MacOS 10.14.4æ— æ³•æ‰“å¼€é—®é¢˜è§£å†³</h1><p>ç‚¹å‡»iTunesæç¤ºâ€œåº”ç”¨ç¨‹åºâ€œiTunesâ€çš„è¿™ä¸ªç‰ˆæœ¬ä¸èƒ½ä¸æ­¤ç‰ˆæœ¬çš„ macOS é…åˆä½¿ç”¨ã€‚æ‚¨ä½¿ç”¨çš„æ˜¯â€œiTunesâ€12.6.xâ€</p><p>è§£å†³åŠæ³•ï¼šåœ¨è¿è¡Œä¸Šé¢çš„è„šæœ¬ä¹‹å‰ï¼Œå¤åˆ¶ã€Œè®¿è¾¾ã€â€”ã€Œåº”ç”¨ç¨‹åºã€â€”ã€ŒiTunes.appã€â€”ã€Œæ˜¾ç¤ºåŒ…å†…å®¹ã€ä¸­çš„version.plistå’ŒInfo.plistä¸¤ä¸ªæ–‡ä»¶å¹¶ä¿å­˜å¤‡ç”¨ã€‚å®‰è£…å¥½æ—§ç‰ˆæœ¬çš„itunesä¹‹åï¼Œå°†è¿™ä¸¤ä¸ªæ–‡ä»¶è¦†ç›–æ‰æ—§ç‰ˆæœ¬ç›¸å¯¹åº”çš„ä¸¤ä¸ªæ—§ç‰ˆæ–‡ä»¶å³å¯è¿è¡Œã€‚</p><p>å¦‚æœä½ å·²ç»åˆ é™¤æ–°ç‰ˆituneså¹¶æ— æ³•é‡æ–°å®‰è£…ï¼Œä¹Ÿå¯ä»¥ç‚¹å‡»æ­¤å¤„ä¸‹è½½<a href="/resource/iTunes/version.plist">version.plist</a>,<a href="/resource/iTunes/Info.plist">info.plist</a>ä¸¤ä¸ªæ–‡ä»¶ã€‚</p><p>ç¾ä¸­ä¸è¶³çš„æ˜¯è²Œä¼¼å›¾æ ‡è¿˜æ˜¯ç¦æ­¢çš„æ ·å­</p><p>è§£å†³åŠæ³•:</p><ol><li>å¤åˆ¶ã€Œè®¿è¾¾ã€â€”ã€Œåº”ç”¨ç¨‹åºã€â€”ã€ŒiTunes.appã€â€”ã€Œæ˜¾ç¤ºåŒ…å†…å®¹ã€- ã€ŒContentsã€-ã€ŒResourcesã€ä¸­çš„iTunes.icnsã€‚</li><li>ã€Œè®¿è¾¾ã€â€”ã€Œåº”ç”¨ç¨‹åºã€â€”ã€ŒiTunes.appã€æ˜¾ç¤ºç®€ä»‹,æ‹–æ‹½iTunes.icnsæ–‡ä»¶è‡³ç®€ä»‹é¡¶éƒ¨iTuneså›¾æ ‡é™¤æ›¿æ¢å³å¯ã€‚<br><img src="/resource/iTunes/2.png" alt></li></ol><h1 id="å‚è€ƒæ–‡ç« "><a href="#å‚è€ƒæ–‡ç« " class="headerlink" title="å‚è€ƒæ–‡ç« "></a>å‚è€ƒæ–‡ç« </h1><p><a href="https://juejin.im/post/5c3c62176fb9a049c965ec01" target="_blank" rel="noopener">macOS 10.14 mojaveå®‰è£…ä½ç‰ˆæœ¬iTunes 12.6.x</a></p><p><a href="https://www.newlearner.site/2019/02/18/mac-itunes-downgrade.html#10144" target="_blank" rel="noopener">macOS Mojaveå®‰è£…iTunes 12.6.x</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;iTunes12-6-xä¸‹è½½åœ°å€&quot;&gt;&lt;a href=&quot;#iTunes12-6-xä¸‹è½½åœ°å€&quot; class=&quot;headerlink&quot; title=&quot;iTunes12.6.xä¸‹è½½åœ°å€&quot;&gt;&lt;/a&gt;iTunes12.6.xä¸‹è½½åœ°å€&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https
      
    
    </summary>
    
      <category term="MacOS" scheme="https://www.liyb.vip/categories/MacOS/"/>
    
    
      <category term="iTunes" scheme="https://www.liyb.vip/tags/iTunes/"/>
    
  </entry>
  
  <entry>
    <title>ç»™è‡ªå·±gité¡¹ç›®æ·»åŠ podæ”¯æŒ</title>
    <link href="https://www.liyb.vip/2018/11/27/%E7%BB%99%E8%87%AA%E5%B7%B1%E7%9A%84Git%E4%BB%93%E5%BA%93%E6%B7%BB%E5%8A%A0pod%E6%94%AF%E6%8C%81/"/>
    <id>https://www.liyb.vip/2018/11/27/ç»™è‡ªå·±çš„Gitä»“åº“æ·»åŠ podæ”¯æŒ/</id>
    <published>2018-11-27T07:39:08.940Z</published>
    <updated>2019-11-28T10:34:29.667Z</updated>
    
    <content type="html"><![CDATA[<h1 id="åˆ›å»ºgitä»“åº“"><a href="#åˆ›å»ºgitä»“åº“" class="headerlink" title="åˆ›å»ºgitä»“åº“"></a>åˆ›å»ºgitä»“åº“</h1><ol><li>è¿›<a href="https://github.com/" target="_blank" rel="noopener">github</a>ï¼Œç™»å½•è‡ªå·±è´¦å·ã€‚å¦‚æœæ²¡æœ‰è‡ªè¡Œæ³¨å†Œã€‚</li><li>åˆ›å»ºä¸ªæ–°ä»“åº“<br><img src="/resource/pod/åˆ›å»ºä»“åº“.png" alt="åˆ›å»ºä»“åº“"> </li><li>æŠŠé¡¹ç›®cloneåˆ°æœ¬åœ°</li><li>æŠŠè‡ªå·±éœ€è¦æ·»åŠ podæ”¯æŒçš„åº“æ·»åŠ è¿›åˆšæ‰cloneçš„é¡¹ç›®ä¸­</li></ol><h1 id="æ·»åŠ podæ”¯æŒ"><a href="#æ·»åŠ podæ”¯æŒ" class="headerlink" title="æ·»åŠ podæ”¯æŒ"></a>æ·»åŠ podæ”¯æŒ</h1><h2 id="åˆ›å»ºpodspecæ–‡ä»¶"><a href="#åˆ›å»ºpodspecæ–‡ä»¶" class="headerlink" title="åˆ›å»ºpodspecæ–‡ä»¶"></a>åˆ›å»ºpodspecæ–‡ä»¶</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> cd åˆšæ‰cloneçš„é¡¹ç›®è·¯å¾„</span><br><span class="line"><span class="meta">$</span> pod spec create å‘å¸ƒçš„å</span><br></pre></td></tr></table></figure><h2 id="ç¼–è¾‘podspecæ–‡ä»¶"><a href="#ç¼–è¾‘podspecæ–‡ä»¶" class="headerlink" title="ç¼–è¾‘podspecæ–‡ä»¶"></a>ç¼–è¾‘podspecæ–‡ä»¶</h2><p><img src="/resource/pod/podspecæ–‡ä»¶.png" alt="ç¼–è¾‘podspec"></p><h2 id="è®¾ç½®releaseç‰ˆæœ¬"><a href="#è®¾ç½®releaseç‰ˆæœ¬" class="headerlink" title="è®¾ç½®releaseç‰ˆæœ¬"></a>è®¾ç½®releaseç‰ˆæœ¬</h2><p>é¦–å…ˆä¸Šä¼ æœ¬åœ°ä»“åº“è‡³github</p><p><img src="/resource/pod/release.png" alt></p><p>ç‚¹å‡»releaseï¼Œæ­¤å¤„æˆ‘ä»¥æ·»åŠ è¿‡ï¼Œæ‰€ä»¥æ˜¾ç¤ºä¸º1</p><p><img src="/resource/pod/version.png" alt></p><h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> pod lib lint podspecæ–‡ä»¶å.podspec</span><br></pre></td></tr></table></figure><p>ç»“æœå¤šç§å¤šæ ·æ ¹æ®é”™è¯¯æç¤ºè¿›è¡Œä¿®æ”¹podspecæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰é”™è¯¯åªæœ‰è­¦å‘Šï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤è¿›è¡Œå¿½ç•¥</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> pod lib lint podspecæ–‡ä»¶å.podspec â€”allow-warnings</span><br></pre></td></tr></table></figure><p>çœ‹åˆ° xxx passed validation è¯´æ˜æˆåŠŸ</p><h2 id="æ³¨å†ŒCocoapodsè´¦å·"><a href="#æ³¨å†ŒCocoapodsè´¦å·" class="headerlink" title="æ³¨å†ŒCocoapodsè´¦å·"></a>æ³¨å†ŒCocoapodsè´¦å·</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> pod trunk register é‚®ç®±åœ°å€ 'ç”¨æˆ·å'  â€”description='æè¿°ä¿¡æ¯'</span><br></pre></td></tr></table></figure><p>æ³¨: ç”¨æˆ·åå’Œæè¿°ä¿¡æ¯å¸¦å¼•å·,ä¹‹åè¿›å…¥é‚®ç®±è¿›è¡ŒéªŒè¯å°±å¯ä»¥äº†</p><h2 id="ä¸Šä¼ ä»£ç åˆ°Cocoapods"><a href="#ä¸Šä¼ ä»£ç åˆ°Cocoapods" class="headerlink" title="ä¸Šä¼ ä»£ç åˆ°Cocoapods"></a>ä¸Šä¼ ä»£ç åˆ°Cocoapods</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">$</span> pod trunk push podspecæ–‡ä»¶è·¯å¾„</span><br></pre></td></tr></table></figure><p>æˆåŠŸåå¯ä»¥ä½¿ç”¨pod searchè¿›è¡ŒæŸ¥çœ‹<br>å¦‚æœpod searchæœä¸åˆ°ï¼Œå¯ä»¥è¿›å…¥æ­¤æ–‡ä»¶å¤¹ä¸‹<code>~/Library/Caches/CocoaPods/</code>åˆ é™¤<code>search_index.json</code>æ–‡ä»¶</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;åˆ›å»ºgitä»“åº“&quot;&gt;&lt;a href=&quot;#åˆ›å»ºgitä»“åº“&quot; class=&quot;headerlink&quot; title=&quot;åˆ›å»ºgitä»“åº“&quot;&gt;&lt;/a&gt;åˆ›å»ºgitä»“åº“&lt;/h1&gt;&lt;ol&gt;
&lt;li&gt;è¿›&lt;a href=&quot;https://github.com/&quot; target=&quot;_blan
      
    
    </summary>
    
      <category term="iOS" scheme="https://www.liyb.vip/categories/iOS/"/>
    
    
      <category term="cocoapods" scheme="https://www.liyb.vip/tags/cocoapods/"/>
    
  </entry>
  
  <entry>
    <title>Protocal Buffers for iOSçš„å®‰è£…åŠä½¿ç”¨(ä½¿ç”¨ç¯‡)</title>
    <link href="https://www.liyb.vip/2018/11/27/Protocal%20Buffers%20for%20iOS%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8(%E4%BD%BF%E7%94%A8%E7%AF%87)/"/>
    <id>https://www.liyb.vip/2018/11/27/Protocal Buffers for iOSçš„å®‰è£…åŠä½¿ç”¨(ä½¿ç”¨ç¯‡)/</id>
    <published>2018-11-27T07:39:08.939Z</published>
    <updated>2019-09-09T06:15:46.977Z</updated>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><h2 id="ä¸‹è½½æºç "><a href="#ä¸‹è½½æºç " class="headerlink" title="ä¸‹è½½æºç "></a>ä¸‹è½½æºç </h2><ul><li><p>1.ä»<a href="https://github.com/google/protobuf.git" target="_blank" rel="noopener">https://github.com/google/protobuf.git</a>ä¸‹è½½æºç ï¼Œè§£å‹ï¼Œé‡Œé¢æœ‰æ”¯æŒä¸åŒè¯­è¨€çš„ç‰ˆæœ¬æºç ï¼Œæˆ‘ä»¬åªéœ€è¦é‡Œé¢çš„æ”¯æŒobjcçš„æ–‡ä»¶å¤¹åä¸ºï¼š<code>objectivec</code></p><p>  <img src="/resource/ProtocalBuffers/1-1.png" alt="1-1"></p></li><li><p>2.æ–°å»ºä¸€ä¸ªå·¥ç¨‹å‘½åä¸º<code>ProtocolBufferTest</code>ï¼Œåˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå‡è®¾å‘½åä¸ºï¼š<code>protocolbuf</code>ï¼Œ æŠŠç¬¬ä¸€æ­¥çš„pbæºç å¤åˆ¶åˆ°æ­¤æ–‡ä»¶å¤¹ä¸­ï¼š</p><p>  <img src="/resource/ProtocalBuffers/2-1.png" alt="2-1"></p></li><li><p>3.ä½¿ç”¨Xcodeæ‰“å¼€å·¥ç¨‹ï¼Œç‚¹å‡»å·¦ä¸‹è§’<code>+</code>ï¼Œ å¼•ç”¨<code>protocolBuffer</code>æºæ–‡ä»¶åˆ°å·¥ç¨‹ä¸­<br>(æºæ–‡ä»¶é‡Œé¢æœ‰ä¸¤ä¸ªå·¥ç¨‹é…ç½®æ–‡ä»¶ï¼š<code>ProtocolBuffers_iOS.xcodeproj</code>å’Œ<code>ProtocolBuffers_OSX.xcodeproj</code>ï¼Œå¼•ç”¨<code>ProtocolBuffers_iOS.xcodeproj</code>å°±å¥½)</p><p>  <img src="/resource/ProtocalBuffers/3-1.png" alt="3-1"><br>  <img src="/resource/ProtocalBuffers/3-2.png" alt="3-2"></p></li><li><p>4.é€‰ä¸­å·¥ç¨‹: <code>targets</code>â€”&gt;<code>Build Phases</code>â€”&gt;<code>Link Binary With Libraries</code>ï¼Œ å¼•ç”¨æºç é™æ€åº“æ–‡ä»¶ï¼š<code>libProtocolBuffers.a</code></p><p>  <img src="/resource/ProtocalBuffers/4-1.png" alt="4-1"></p></li><li><p>5.åœ¨å·¥ç¨‹è®¾ç½®æœç´¢é™æ€åº“çš„å¤´æ–‡ä»¶ï¼ˆpbæ–‡ä»¶åœ¨protocolbufæ–‡ä»¶å¤¹é‡Œé¢ï¼‰:<br><code>targets</code>â€”&gt;<code>Build Setting</code>â€”&gt;<code>Search Paths</code>â€”&gt;<code>Header Search Paths</code>, å†™å…¥ï¼š<code>$(PROJECT)/protocolbuf</code></p><p>   <img src="/resource/ProtocalBuffers/5-1.png" alt="5-1"></p></li><li><p>6.ç¼–å†™æµ‹è¯•æ–‡ä»¶<code>*.proto</code>ï¼Œæ¯”å¦‚æ–°å»ºä¸€ä¸ªæ–‡ä»¶<code>Person.proto</code>, æŒ‰ç…§å®˜æ–¹æ ‡å‡†è¯­æ³•<code>https://developers.google.com/protocol-buffers/</code> ç¼–å†™é€šç”¨ä»£ç ï¼Œå†™å¥½ååœ¨ç»ˆç«¯è¿›å…¥è¯¥<code>Person.proto</code>æ–‡ä»¶æ‰€åœ¨ç›®å½•ï¼Œä½¿ç”¨protocå‘½ä»¤ï¼š<code>protoc *.proto --objc_out=../Pro_out</code> è¿›è¡Œç¼–è¯‘ã€‚æŠŠ<code>Person.proto</code>æ–‡ä»¶ç¼–è¯‘æˆ<code>Person.pbobjc.h</code>å’Œ<code>Person.pbobjc.m</code>, ç”Ÿæˆçš„æ–‡ä»¶åœ¨<code>Pro_out</code>æ–‡ä»¶å¤¹é‡Œé¢ã€‚å¦‚æœ<code>Person.proto</code>æºæ–‡ä»¶æœ‰è¯­æ³•é—®é¢˜ï¼Œç¼–è¯‘æ—¶ä¼šæŠ¥é”™ï¼›å½“ç¼–è¯‘æ—¶ä»€ä¹ˆæç¤ºéƒ½æ²¡æœ‰ï¼Œè¡¨ç¤ºç¼–è¯‘æˆåŠŸï¼šå°†ç¼–è¯‘å¥½çš„<code>*.pbobjc.h</code>å’Œ<code>*.pbobjc.m</code>æ‹–å…¥å·¥ç¨‹ä¸­ï¼Œå› ä¸ºä¸æ”¯æŒarc, æ‰€ä»¥éœ€è¦åœ¨<code>*.pbobjc.m</code>è®¾ç½®<code>-fno-objc-arc</code>, ç„¶åå°±å¯ä»¥ä½¿ç”¨äº†</p><p>   <img src="/resource/ProtocalBuffers/6-1.png" alt="6-1"><br>   <img src="/resource/ProtocalBuffers/6-2.png" alt="6-2"><br>   <img src="/resource/ProtocalBuffers/6-3.png" alt="6-3"><br>   <img src="/resource/ProtocalBuffers/6-4.png" alt="6-4"></p></li><li><p>7.åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</p></li></ul><figure class="highlight objc"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">Person *p = [[Person alloc] init];</span><br><span class="line">p.name = <span class="string">@"xiao"</span>;</span><br><span class="line">p.age = <span class="number">2</span>;</span><br><span class="line">p.address = <span class="string">@"å“ˆå“ˆå“ˆ"</span>;</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"name:%@, age:%zi, address:%@"</span>, p.name, p.age, p.address);</span><br><span class="line">    </span><br><span class="line"><span class="comment">//åºåˆ—åŒ–</span></span><br><span class="line"><span class="built_in">NSData</span> *data = [p data];</span><br><span class="line"><span class="built_in">NSLog</span>(<span class="string">@"data:%@"</span>, data);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ååºåˆ—åŒ–    </span></span><br><span class="line"><span class="built_in">NSError</span> *error;</span><br><span class="line">Person *per = [Person parseFromData:data error:&amp;error];</span><br><span class="line"><span class="keyword">if</span> (!error) &#123;</span><br><span class="line">    <span class="built_in">NSLog</span>(<span class="string">@"_____name:%@, age:%zi, address:%@_____"</span>, per.name, per.age, per.address);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;ä½¿ç”¨&quot;&gt;&lt;a href=&quot;#ä½¿ç”¨&quot; class=&quot;headerlink&quot; title=&quot;ä½¿ç”¨&quot;&gt;&lt;/a&gt;ä½¿ç”¨&lt;/h1&gt;&lt;h2 id=&quot;ä¸‹è½½æºç &quot;&gt;&lt;a href=&quot;#ä¸‹è½½æºç &quot; class=&quot;headerlink&quot; title=&quot;ä¸‹è½½æºç &quot;&gt;&lt;/a&gt;ä¸‹è½½æºç &lt;/h
      
    
    </summary>
    
      <category term="iOS" scheme="https://www.liyb.vip/categories/iOS/"/>
    
    
      <category term="ProtocalBuffers" scheme="https://www.liyb.vip/tags/ProtocalBuffers/"/>
    
  </entry>
  
  <entry>
    <title>Protocal Buffers for iOSçš„å®‰è£…åŠä½¿ç”¨(å®‰è£…ç¯‡)</title>
    <link href="https://www.liyb.vip/2018/11/27/Protocl%20Buffers%20for%20iOS%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8(%E5%AE%89%E8%A3%85%E7%AF%87)/"/>
    <id>https://www.liyb.vip/2018/11/27/Protocl Buffers for iOSå®‰è£…åŠä½¿ç”¨(å®‰è£…ç¯‡)/</id>
    <published>2018-11-27T07:39:08.939Z</published>
    <updated>2019-08-12T10:18:08.587Z</updated>
    
    <content type="html"><![CDATA[<h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><h2 id="å®‰è£…Protocal-Buffers"><a href="#å®‰è£…Protocal-Buffers" class="headerlink" title="å®‰è£…Protocal Buffers"></a>å®‰è£…Protocal Buffers</h2><p>ç»ˆç«¯æ‰§è¡Œä»¥ä¸‹å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">brew -v</span><br></pre></td></tr></table></figure><p>è¿™æ¡å‘½ä»¤æ˜¯æŸ¥çœ‹ä½ çš„macé‡Œé¢æœ‰æ²¡æœ‰è£…brewã€‚brewæ˜¯mac osé‡Œé¢ï¼Œç±»ä¼¼äºubuntuçš„apt-getçš„åŠŸèƒ½ï¼Œéƒ½å¯ä»¥ç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥å‘½ä»¤ç„¶åå®‰è£…ç¨‹åºã€‚ï¼vè‡ªç„¶å°±æ˜¯ç‰ˆæœ¬versionçš„æ„æ€</p><p>ä¸‹è½½brewå®‰è£…ç¯å¢ƒ</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ruby -e $(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)</span><br></pre></td></tr></table></figure><p>åˆ†åˆ«æ‰§è¡Œä¸‹é¢ä¸‰æ¡å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">brew install automake</span><br><span class="line">brew install libtool</span><br><span class="line">brew install protobuf</span><br></pre></td></tr></table></figure><p>å°±æ˜¯åˆ©ç”¨brewä¸‹è½½å®‰è£…äº†ã€‚protobufå°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯ä¾èµ–åº“</p><h2 id="clone-Protocal-Buffersåº“"><a href="#clone-Protocal-Buffersåº“" class="headerlink" title="clone Protocal Buffersåº“"></a>clone Protocal Buffersåº“</h2><p>æ‰§è¡Œä¸‹åˆ—å‘½ä»¤</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/alexeyxo/protobuf-objc.git</span><br><span class="line">./build.sh</span><br></pre></td></tr></table></figure><p>ä»githubä¸‹è½½protobufï¼objcè¿™ä¸ªå·¥ç¨‹ï¼Œbuildè„šæœ¬é‡Œé¢åšçš„æ˜¯ç¼–è¯‘</p><p>æ³¨æ„ï¼šç¼–è¯‘å·¥ç¨‹è¿‡ç¨‹ä¸­ï¼Œæœ‰å¯èƒ½ä¼šå‡ºç°é”™è¯¯ã€‚åˆ«æ…Œï¼çœ‹ç¼–è¯‘é”™è¯¯çš„æç¤ºã€‚ä¸€èˆ¬é”™è¯¯åªæ˜¯å› ä¸ºç¯å¢ƒå˜é‡å’Œè·¯å¾„æ²¡æœ‰é…ç½®å¥½ï¼Œå°‘äº†ä¸€äº›ä¸œè¥¿ï¼Œä¾‹å¦‚å°‘äº†ç¼–è¯‘protobufè¿™ä¸ªå·¥ç¨‹çš„ä¾èµ–åº“ï¼ŒæŒ‰ç…§æç¤ºæ·»åŠ è·¯å¾„å³å¯ã€‚æœ‰äº†å·¥ç¨‹ä»¥åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹æµ‹è¯•ä¸€ä¸‹æ€ä¹ˆç”¨protobufäº†</p><h2 id="å¯¼å…¥å·¥ç¨‹"><a href="#å¯¼å…¥å·¥ç¨‹" class="headerlink" title="å¯¼å…¥å·¥ç¨‹"></a>å¯¼å…¥å·¥ç¨‹</h2><p>æ‰“å¼€Xcodeï¼æ–°å»ºä¸€ä¸ªå·¥ç¨‹ï¼ ç„¶åæœ‰ä¸¤ä¸ªæ–¹æ³•æŠŠprotobufæ·»åŠ åˆ°ä½ çš„å·¥ç¨‹é‡Œé¢ï¼Œä¸€ä¸ªæ˜¯ç›´æ¥æ·»åŠ ï¼Œä¸€ä¸ªæ˜¯åˆ©ç”¨cocoapod å¼ºçƒˆæ¨èåè€…ï¼Œå› ä¸ºcocoapodsèƒ½å¤Ÿå¾ˆæ–¹ä¾¿çš„ç®¡ç†ç¬¬ä¸‰æ–¹ç±»åº“ï¼Œä»¥åäººå®¶çš„å·¥ç¨‹å‡çº§äº†ï¼Œä½ åªéœ€è¦ä¸€è¡Œ pod update å°±okäº†ã€‚å…³äºå®‰è£…å’Œä½¿ç”¨cocoapodï¼Œå±äºå¦ä¸€ä¸ªè¯é¢˜ï¼Œåœ¨Podfileæ·»åŠ ä¸‹é¢è¿™ä¸ªå¥å­</p><pre><code>platform :ios , 8.0pod ProtocolBuffers,</code></pre><p>åœ¨ä¿å­˜ä¹‹åï¼Œåˆ°ç»ˆç«¯ï¼Œcdåˆ°å·¥ç¨‹é‡Œé¢ï¼Œ</p><pre><code>pod install</code></pre><p>ç­‰ä¸€ä¼šï¼Œcocoapodå°±ä¼šå¸®æˆ‘ä»¬æ·»åŠ å¥½ï¼Œä»¥åæˆ‘ä»¬å°±åº”è¯¥æ‰“å¼€ projectçš„workspaceï¼Œå› ä¸ºæ·»åŠ äº†podä½œä¸ºå­å·¥ç¨‹ã€‚</p><h2 id="åˆ›å»ºProtocal-Buffersæ–‡ä»¶"><a href="#åˆ›å»ºProtocal-Buffersæ–‡ä»¶" class="headerlink" title="åˆ›å»ºProtocal Buffersæ–‡ä»¶"></a>åˆ›å»ºProtocal Buffersæ–‡ä»¶</h2><p>åœ¨ä½ çš„å·¥ç¨‹é‡Œé¢ï¼Œæ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œå‡å¦‚å‘½åå«Protobuf åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹é‡Œé¢æ–°å»ºä¸€ä¸ªprotoæ–‡ä»¶ã€‚ä¾‹å¦‚è¦åœ¨æœ¬åœ°å‚¨å­˜ç”¨æˆ·ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±æ–°å»ºä¸€ä¸ªuser.proto é‡Œé¢å†…å®¹å¯ä»¥å¦‚ä¸‹</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">syntax = &quot;proto2&quot;;// Protocal Buffersç‰ˆæœ¬</span><br><span class="line">message PBUser &#123;</span><br><span class="line">required string userId = 1;         // ç”¨æˆ·ID</span><br><span class="line">optional string nick = 2;            // ç”¨æˆ·æ˜µç§°</span><br><span class="line">optional string avatar = 3;        // ç”¨æˆ·å¤´åƒ</span><br><span class="line">optional string password = 7;</span><br><span class="line">optional string email = 8;</span><br><span class="line">optional string mobile = 9;         // æ‰‹æœºå·ç </span><br><span class="line">optional string qqOpenId = 10;    // QQ ID</span><br><span class="line">optional string sinaId = 11;         // SINA UserID</span><br><span class="line">optional string weixinId = 12;     // WeChat UserID</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šé¢è¿™ä¸ªä¾‹å­åŒ…æ‹¬äº†å‡ ä¸ªè¦ç´ ã€‚ ä¸€ä¸ªæ˜¯åŒ…åã€‚åŒ…çš„æ¦‚å¿µåœ¨object cé‡Œé¢æ²¡æœ‰ï¼Œjavaé‡Œé¢æœ‰ï¼Œc++é‡Œé¢namespaceä¹Ÿæ˜¯å·®ä¸å¤šæ„æ€ã€‚ é¡ºä¾¿æä¸€ä¸‹ï¼Œocé‡Œé¢ä¸€èˆ¬åœ¨åº“åå‰é¢æ·»åŠ ä¸¤ä¸ªå­—æ¯ï¼Œèµ·çš„ä½œç”¨å·®ä¸å¤šå°±æ˜¯åŒ…çš„ä½œç”¨ï¼Œä½œä¸ºç±»çš„ä¸Šä¸€å±‚ç»„ç»‡ç»“æ„ã€‚ ä¾‹å¦‚å®˜æ–¹çš„NSï¼Œä¾‹å¦‚AFNetworkingè¿™ç§ç¬¬ä¸‰æ–¹ç±»åº“çš„AFã€‚</p><p>å›åˆ°æ­£é¢˜ã€‚ç¼–å†™pbæ–‡ä»¶ï¼Œç¬¬äºŒä¸ªè¦ç´ æ˜¯message ä¸€ä¸ªmessageå°±æ˜¯ä¸€ä¸ªæ•´ä½“ï¼Œé‡Œé¢æœ‰å“ªäº›å¿…è¦çš„å†…å®¹ï¼Œå“ªäº›å¯é€‰çš„å†…å®¹ã€‚è¯¦ç»†çš„protoè¯­æ³•éšä¾¿ä¸€æ‰¾ä¸€å¤§æŠŠï¼Œå°±ä¸å•°å—¦äº†ã€‚</p><h2 id="Protocal-Buffersæ–‡ä»¶è½¬æ¢"><a href="#Protocal-Buffersæ–‡ä»¶è½¬æ¢" class="headerlink" title="Protocal Buffersæ–‡ä»¶è½¬æ¢"></a>Protocal Buffersæ–‡ä»¶è½¬æ¢</h2><p>å†™å¥½äº†protoï¼Œæ¥ä¸‹æ¥å°±æ˜¯ç¼–è¯‘è¿™ä¸ªprotoæ–‡ä»¶ï¼Œprotobufï¼objcè¿™ä¸ªç±»åº“ä¼šç¼–è¯‘å£°ç§°ä¸€äº›æºç ï¼Œæ˜¯è¯»å†™protoæ•°æ®çš„æ¥å£APIã€‚ ç¼–è¯‘å‘½ä»¤å¦‚ä¸‹ï¼š å…ˆæ‰“å¼€å·¥ç¨‹ï¼Œå»ºè®®å•ç‹¬æ–°å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ä½œä¸ºè¾“å‡ºè·¯å¾„ï¼Œä¾‹å¦‚å·¥ç¨‹ä¸‹æ–°å»ºæ–‡ä»¶å¤¹Genï¼Œç”¨æ¥æ”¾generateå‡ºæ¥çš„.pb.hæ–‡ä»¶&amp;&amp;.pb.mæ–‡ä»¶ æ‰“å¼€ç»ˆç«¯ cdåˆ°å·¥ç¨‹è·¯å¾„ä¸‹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">protoc --plugin=/usr/local/bin/protoc-gen-objc person.proto --objc_out=./Gen</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;å®‰è£…&quot;&gt;&lt;a href=&quot;#å®‰è£…&quot; class=&quot;headerlink&quot; title=&quot;å®‰è£…&quot;&gt;&lt;/a&gt;å®‰è£…&lt;/h1&gt;&lt;h2 id=&quot;å®‰è£…Protocal-Buffers&quot;&gt;&lt;a href=&quot;#å®‰è£…Protocal-Buffers&quot; class=&quot;headerli
      
    
    </summary>
    
      <category term="iOS" scheme="https://www.liyb.vip/categories/iOS/"/>
    
    
      <category term="ProtocalBuffers" scheme="https://www.liyb.vip/tags/ProtocalBuffers/"/>
    
  </entry>
  
</feed>
